package hadoop.tools.posum;

option java_package = "org.apache.hadoop.yarn.proto";

option java_outer_classname = "POSUMProtos";

enum EntityType {
    TYPE_APPS = 0;
    TYPE_JOBS = 1;
    TYPE_TASKS = 2;
    TYPE_APPS_HISTORY = 3;
    TYPE_JOBS_HISTORY = 4;
    TYPE_TASKS_HISTORY = 5;
}

message SingleEntityRequestProto {
    required EntityType type = 1;
    required string id = 2;
}

message SingleEntityResponseProto {
    required EntityType type = 1;
    optional bytes entity = 2;
}

message AppProfileProto {
    required string id = 1;
    optional int64 startTime = 2;
    optional int64 finishTime = 3;
    optional string user = 4;
    optional string name = 5;
    optional AppState state = 6;
    optional AppStatus status = 7;
    optional AppTrackingUI trackingUI = 8;

    enum AppState {
        STATE_NULL = 0;
        STATE_NEW = 1;
        STATE_NEW_SAVING = 2;
        STATE_SUBMITTED = 3;
        STATE_ACCEPTED = 4;
        STATE_RUNNING = 5;
        STATE_FINISHED = 6;
        STATE_FAILED = 7;
        STATE_KILLED = 8;
    }

    enum AppStatus {
        STATUS_NULL = 0;
        STATUS_UNDEFINED = 1;
        STATUS_SUCCEEDED = 2;
        STATUS_FAILED = 3;
        STATUS_KILLED = 4;
    }

    enum AppTrackingUI {
        UI_NULL = 0;
        UI_RM = 1;
        UI_AM = 2;
        UI_HISTORY = 3;
    }
}


